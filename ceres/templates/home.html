{% extends "layout.html" %}

{% block content %}
<h1>Stocks</h1>
<form method="get">
  <select name="filter">
    <option value="">All Stocks</option>
    <option {% if request.query_params.filter=='new_closing_highs' %}selected="selected"{% endif %}
            value="new_closing_highs">New Closing Highs</option>
    <option {% if request.query_params.filter=='new_closing_lows' %}selected="selected"{% endif %}
            value="new_closing_lows">New Closing Lows</option>
    <option {% if request.query_params.filter=='rsi_overbought' %}selected="selected"{% endif %}
            value="rsi_overbought">RSI Overbought</option>
    <option {% if request.query_params.filter=='rsi_oversold' %}selected="selected"{% endif %}
            value="rsi_oversold">RSI Oversold</option>
  </select>
  <input type="submit" />
</form>
<table class="ui celled table">
  <thead>
    <tr>
        <th>Ticker</th>
        <th>Stock Name</th>
  </tr></thead>
  <tbody>
    {% for stock in stocks %}
    <tr>
      <td><a href="/stock/{{ stock.symbol }}">{{ stock.symbol }}</a></td>
      <td data-label="Name">{{ stock.name }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}